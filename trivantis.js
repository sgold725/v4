
		/*
 * Copyright (C) 2007 Trivantis Corporation
 */

	
var theApp=new webtoraAppl();var is=theApp.is;var trivDebug=0;var trivAddMsgFunc=null;var trivDebugWnd='';var trivSaveMsg='';var trivWeb20Popups=false;var DEFAULT_VIEW='Desktop';var transformScale=1;var base64EmptyAudio='data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV';function freeMemory(A){A=(A||'ie,edge,ios').toLowerCase();if ((theApp.is.ie&&A.indexOf('ie')!=-1)||(theApp.is.ieEdge&&A.indexOf('edge')!=-1)||(theApp.is.iOS&&A.indexOf('ios')!=-1)) (getPagePlayer()||{}).bForceReload=t;};function createInitClickDiv(A,B){var C=getDisplayDocument();var D=C.createElement('div');var E=D.style;var F=function(){if (B) jsOpaUtils.createPooledMedia();else if (theApp.is.safari){var L=C.createElement("audio");L.setAttribute("src",base64EmptyAudio);L.play();};triv$('#initClickDiv',C).remove();if (A) A();if(isMobile.any()&&!B) trivArExec(arAudioVideo,function(M){if (M instanceof jsWndVideo&&(M.dwFlags&0x20000)&&!M.bPlaying) M.play();});};D.setAttribute('id',"initClickDiv");E.position='absolute';E.backgroundColor='rgb(77, 77, 77)';E.opacity='.9';E.width='100%';E.height='100%';E.top='0px';E.left='0px';E.textAlign='center';E.zIndex=999999;var G=n;try{var H=window.devicePixelRatio||1,I=(window.myTop||{}).innerHeight||Infinity,G=Math.min(window.innerHeight,screen.height*H,I);}catch(e){}finally{if (!G) G=window.innerHeight;};var K=C.createElement('button');K.id='initClickBtn';K.setAttribute('aria-label',trivstrBGNCR);K.onclick=F;E=K.style;E.position='relative';E.color='white';E.fontSize='36pt';E.width='100px';E.height='100px';E.boxShadow='none';E.border='0px';E.cursor='pointer';E.top=(G/2)-50+'px';D.appendChild(K);C.body.appendChild(D);};function enableAutoStart(A,B){if (!isOPAPub()||B){if (window.bAutoStartOnPage||(B&&((getDisplayWindow().pooledAudioCnt+getDisplayWindow().pooledVideoCnt)>0)&&isMobile.any())){if ((theApp.is.safari&&(parseInt(theApp.is.safariVer)>=11))||(theApp.is.ff&&parseInt(theApp.is.ffVer)>=66)||(theApp.is.chrome&&parseInt(theApp.is.chromeVer)>=64)||isMobile.any()){var C=getDisplayDocument();var D=C.createElement("audio");D.setAttribute("src",base64EmptyAudio);var E=D.play();if (E!==undefined){E.then(function () {A();},function (F) {if (F.name==="NotAllowedError") {createInitClickDiv(A,(isMobile.any()&&B));return;};if (window.console) console.log(F&&F.name);A();return;});return;}}}};A();};function trivLogMsg(A,B){if ((!trivDebug)||(B&&!(trivDebug&B))) return;var C=findTrivLogMsg(window,true);if (C.trivDebug){if (A){if (C.trivSaveMsg.length) C.trivSaveMsg+='<br />';C.trivSaveMsg+=A;};if (!C.trivDebugWnd&&C.opening==1) setTimeout("trivLogMsg()",200);else if (!C.trivDebugWnd||C.trivDebugWnd.closed||!C.trivDebugWnd.location){C.opening=1;C.trivDebugWnd=C.open('trivantisdebug.html','TrivantisDebug','width=400,height=400,scrollbars=0,resizable=1,menubar=0,toolbar=0,location=0,status=0');setTimeout("trivLogMsg()",200);}else{if (C.trivAddMsgFunc){A=C.trivSaveMsg;C.trivSaveMsg='';C.trivAddMsgFunc(A);}}}};function findTrivLogMsg(A,B){if (B&&A.opener&&(!A.parent.SCOPreviewWnd)&&(!A.opener.rbnPubl)&&A.opener.trivLogMsg) return findTrivLogMsg(A.opener,false);var C=A;while (A&&A.parent&&A.parent!=A){try{if (A.parent.document&&!A.parent.SCOPreviewWnd&&!A.parent.rbnPubl&&A.parent.trivLogMsg) C=A.parent;} catch (e){};A=A.parent;};return C;};var winW=screen.width;var winH=screen.height;function findWH(A){var B=A?0:(is.ns?16:20);winW=(is.ns)?getDisplayWindow().innerWidth-B:getDisplayDocument().body.offsetWidth-B;winH=(is.ns)?getDisplayWindow().innerHeight:getDisplayDocument().body.offsetHeight;};function ObjLayer(A,B,C){var D=this;if (!ObjLayer.bInit&&!C) InitObjLayers();D.frame=C||self;if (is.ie10orLess){D.ele=D.event=D.frame.document.all[A];D.styObj=D.frame.document.all[A].style;D.doc=document;D.x=D.ele.offsetLeft;D.y=D.ele.offsetTop;D.w=D.ele.offsetWidth;D.h=D.ele.offsetHeight;}else{D.ele=D.event=document.getElementById(A);D.styObj=D.ele.style;D.doc=document;D.x=D.ele.offsetLeft;D.y=D.ele.offsetTop;D.w=D.ele.offsetWidth;D.h=D.ele.offsetHeight;};D.id=A;D.unique=1;D.pref=B;D.hasMoved=false;D.newX=null;D.newY=null;};ObjLayer.arrPref=[];ObjLayer.arrRef=[];ObjLayer.arrRef.i=0;ObjLayer.bInit=false;var p=ObjLayer.prototype;p.actionGoTo=ObjLayerActionGoTo;p.actionGoToNewWindow=ObjLayerActionGoToNewWindow;function ObjLayerActionGoTo(A,B,C,D){try{var E=null;var F=D!=null?D:true;if (B){if (B=="opener") E=parent.opener;else if (B=="_top") E=eval("parent");else if (B=="NewWindow") E=open(A,'NewWindow');else if (B=="OPATop"&&isOPAPub()) E=getDisplayWindow();else{var G=eval("parent");var H=0;while (H<G.length){try{if (G.frames[H].name==B){E=G.frames[H];break;}}catch (e){};H++;};if (C){H=0;G=E;while (H<G.length){try{if (G.frames[H].name==C){E=G.frames[H];break;}}catch (e){};H++;}};try{if (!E.closed&&E.trivExitPage){E.trivExitPage(A,F);return;}}catch (e){}}};if (!E) E=window;if (!E.closed){var I=B&&B=='OPATop';var J=getPagePlayer();if (J&&!I&&!isLOPopup()){if (J.bForceReload){J.bForceReload=f;J.gotoPageSkip(A);}else J.gotoPage(A);}else{if (A.indexOf('#')===0) E.triv$(E).scrollTop(E.triv$(A).offset().top);else E.location.href=A;}}}catch (e){if (window.console) console.error('Error in ObjLayerActionGoTo()\n'+(e?e.stack:'*no stack*'));}};function ObjLayerActionGoToNewWindow(A,B,C,D){var E;B=B?B.replace(/\s+/g,"_"):B;if ((C.indexOf('left=')==-1)&&(C.indexOf('top=')==-1)) C+=GetNewWindXAndYPos(C);E=window.open(A,B,C);if (E){E.focus();if (D){var F=window;setTimeout(function(){E.popupCb=function(){D.call(F);};},500);}};return E;};function preload(A){setTimeout(function(){if (!getDisplayDocument().images) return;var B=[];for (var i=0;i<A.length;i++){B[i]=new Image();B[i].src=A[i];}},100);};p.moveTo=function(x,y){var A=this;if (x!==null){A.x=x;if (A.styObj) A.styObj.left=A.x;};if (y!==null){A.y=y;if (A.styObj) A.styObj.top=A.y;}};p.moveBy=function(x,y){this.moveTo(this.x+x,this.y+y);};p.clipInit=function(t,r,b,l){if (arguments.length==4) this.clipTo(t,r,b,l);else this.clipTo(0,this.ele.offsetWidth,this.ele.offsetHeight,0);};p.clipTo=function(t,r,b,l){if (this.styObj) this.styObj.clip="rect("+t+"px "+r+"px "+b+"px "+l+"px)";};p.show=function(){if (this.styObj) this.styObj.visibility="inherit";};p.hide=function(){if (this.styObj) this.styObj.visibility="hidden";};p.actionPlay=function(){};p.actionStop=function(){};p.actionShow=function(){this.show();};p.actionHide=function(){this.hide();};p.actionLaunch=function(){};function ObjLayerActionExit(){if (this.frameElement&&this.frameElement.id&&this.frameElement.id.indexOf('DLG_content')==0) trivCloseDialog();else{window.open('','_self','');window.close();if (window.myTop!=window&&findOPAWindow()!=window.myTop) {setTimeout(function () {myTop.close();},250);}}};p.actionExit=ObjLayerActionExit;p.actionChangeContents=function(){};p.actionTogglePlay=function(){};p.isVisible=function(){if (!this.styObj||this.styObj.visibility=="hide"||this.styObj.visibility=="hidden") return false;else return true;};p.write=function(A){this.event.innerHTML=A;};function InitObjLayers(A){var B=document;var C=null;if (!ObjLayer.bInit) ObjLayer.bInit=true;if (is.ns){if (A) C=eval('document.'+A+'.document');else{A='';if (is.ns5){B.layers=B.getElementsByTagName("*");C=B;}else C=B;};for (var i=0;i<C.layers.length;i++){var D;if (is.ns5){if (C.layers[i]) D=C.layers[i].tagName;else D=null;}else D=C.layers[i].name;if (D){ObjLayer.arrPref[D]=A;if (!is.ns5&&C.layers[i].doc.layers.length>0) ObjLayer.arrRef[ObjLayer.arrRef.length]=(A==='')?C.layers[i].name:A+'.document.'+C.layers[i].name;}};if (ObjLayer.arrRef.i<ObjLayer.arrRef.length) InitObjLayers(ObjLayer.arrRef[ObjLayer.arrRef.i++]);};return true;};function buildCSS(A,B,C,D,E,F,G,H,I){var J=arguments.length;var K=(B!==null&&C!==null)?'#'+A+' {position:absolute; left:'+B+'px; top:'+C+'px;':'#'+A+' {position:relative;';if (J>=4&&D!==null) K+=' width:'+D+'px;';if (J>=5&&E!==null){K+=' height:'+E+'px;';if (J<9||I.indexOf('clip')==-1) K+=' clip:rect(0px '+D+'px '+E+'px 0px);';};if (J>=6&&F!==null) K+=' visibility:'+(F?'inherit':'hidden')+';';if (J>=7&&G!==null) K+=' z-index:'+G+';';if (J>=8&&H!==null) K+=' background:'+H+';';if (J==9&&I!==null) K+=' '+I;K+='}\n';return K;};function writeStyleSheets(A){var B='<style type="text/css">\n';B+=A;B+='</style>';document.write(B);};function getHTTP(A,B,C){var D=0,E=0;if (B=='GET'&&C){A+='?'+C;C=null;};trivLogMsg('Issuing '+B+' to '+A+(C?(' for ['+C+']'):''));if (!E&&A.indexOf("http")==0&&(A.indexOf(location.protocol)<0||A.indexOf(location.host)<0)){try{var F=document.getElementsByTagName("body").item(0);var G=document.getElementById("xdomainIframe");if (!G){G=document.createElement("iframe");G.setAttribute("name","xdomainIframe");G.setAttribute("id","xdomainIframe");G.style.display="none";G.style.width="0px";G.style.height="0px";F.appendChild(G);};var H=document.getElementById("xdomainForm");if (!H){H=document.createElement("form");H.setAttribute("id","xdomainForm");H.setAttribute("method",B);H.setAttribute("target","xdomainIframe");G.appendChild(H);};if (C){H.innerHTML='';var I=C.split('&');for (var i=0;i<I.length;i++){var J=I[i].indexOf('=');if (J!=-1){var K=document.createElement("textarea");K.name=I[i].substring(0,J);K.value=unescape(I[i].substring(J+1));H.appendChild(K);}}};H.setAttribute("action",A);H.submit();D={status:0,statusText:"special xdomain processing",reponseText:""};E=true;} catch (e){if (window.console) window.console.error(e);}};try{if (!E&&window.XMLHttpRequest){D=new XMLHttpRequest();D.open(B,A,false);D.onreadystatechange=null;if (B=='POST'){D.setRequestHeader('Content-Type','application/x-www-form-urlencoded;charset=UTF-8');};D.send(C);E=1;}} catch (e){if (window.console) window.console.error(e);};try{if (!E&&window.ActiveXObject){D=new ActiveXObject("Microsoft.XMLHTTP");if (D){D.open(B,A,false);if (B=='POST') D.setRequestHeader('Content-Type','application/x-www-form-urlencoded;charset=UTF-8');D.send(C);E=1;};trivLogMsg('ReturnCode = '+D.status+' Received Data ['+D.responseText+']');}} catch (e){if (window.console) window.console.error(e);};try{if (D.status===0) trivLogMsg('Status 0 is returned if posting to a different domain and trying to receive a response (cross-domain is not allowed) or the course is not running on a web server.');} catch (e){};return D;};function GenRand(A,B){return Math.floor(Math.random()*(B-A+1)+A);};function GetNewWindXAndYPos(A){var B="\\s*([^,\\s]*)\\s*";var C=new RegExp("width="+B,"i");C.test(A);var D=RegExp.$1;C=new RegExp("height="+B,"i");C.test(A);var E=RegExp.$1;var F=(screen.width-D)/2;var G=(screen.height-E)/2;return ',left='+F+',top='+G;};function Encode(s){if (s==n) return '';return encodeURIComponent(s);};function Decode(s){if (s==n) return '';return decodeURIComponent(s);};function UniUnescape(s){if (s==n) return '';return unescape(String(s).replace(/%5Cu/g,'%u'));};function findOPAWindow(){if (!isSPPCapable()) window.opaWindow=window;if (window.opaWindow||window.opaWindow===n) return window.opaWindow;window.opaWindow=n;var A=window,B=n;while (A!=B){try{if (A.jsPagePlayer&&A.pagePlayer instanceof A.jsPagePlayer){window.opaWindow=A;break;}}catch(e){break;};B=A;A=A.parent;};return window.opaWindow;};function getDisplayWindow(){return  isLOPopup()?window:findOPAWindow()||window;};function getDisplayDocument(){return getDisplayWindow().document;};function getPagePlayer(){var A=findOPAWindow();return A?A.pagePlayer:n;};function isSinglePagePlayerAvail(){return!!getPagePlayer();};function getCurrentPageDiv(){return trivPage.getDisplayPageDiv();};GetCurrentPageDiv=getCurrentPageDiv;function getCurrentPageID(){return getCurrentPageDiv().id;};GetCurrentPageID=getCurrentPageID;getCurrentPageDivId=getCurrentPageID;function appendElement(A,B,C){function makeText(E){var D=document.createElement('div');D.innerHTML=E;return D.firstChild;};if (C){if (typeof(C)=="string") C=makeText(C);if (!(C.id&&getDisplayDocument().getElementById(C.id))){(B?B:getCurrentPageDiv()).appendChild(C);return true;}};return false;};function getOPAPageDiv(A){var B=n;if (isLOPopup()) B=document.getElementById("wndPage");else{A=A||window;var C=findOPAWindow().document.getElementsByTagName('iframe');trivArExec(C,function(D){if (D.contentWindow==A){B=D.parentElement;return f;}});};return B;};function isOPAPub(){var A=findOPAWindow();return!!A&&!!A.pagePlayer;};function isSPPCapable(){return!theApp.is.ie8orLess;};function isLOPopup(){var A='';try {A=this.frameElement&&this.frameElement.id||'';} catch (e) {};return A.indexOf('DLG_content')==0||A.indexOf('WebWin_content')==0;};function isNewWinPopup(){var A=getDisplayWindow();var B=f;try{B=!!(A.opener&&A.opener.theApp&&A.opener.theApp.constructor.name=='webtoraAppl');}catch(e){};return B;};function wndPagePublished(){var A=this;A.rtData1=-1;A.rtData2=-1;A.div=n;A.processed=false;A.opaWindow=u;A.init();};p=wndPagePublished.prototype;p.init=function(){var A=this;var B=getDisplayDocument();if (isOPAPub()){A.opaWindow=findOPAWindow();A.div=getOPAPageDiv(window);A.div.id='page'+trivPageId;if (A.opaWindow.$) window.triv$=A.opaWindow.$;}else{A.div=B.getElementById("wndPage");A.anchorFrontDiv=B.getElementById("anchorFront");};if (A.div){var C=B.body;C.onmousedown=function(e) { console.log('>>> doc.onmousedown()');return A.mouseDown(e);};C.onmousemove=function(e) { console.log('>>> doc.onmousemove()');return A.mouseMove(e);};C.onmouseup=function(e) { console.log('>>> doc.onmouseup()');return A.mouseUp(e);};C.ondblclick=function(e) { console.log('>>> doc.ondblclick()');return A.mouseDblClk(e);};C.oncontextmenu=function(e) { console.log('>>> doc.oncontextmenu()');return A.contextMenu(e);};C.onclick=function(e) { console.log('>>> doc.onclick()');return A.mouseClick(e);};C.onkeydown=function(e){var D=getKeyCode(e);if (D==9||D==32){if (theApp.is.ff&&D==32) A.processed=f;console.log('body.onKeyDown: mouseClick()');A.mouseClick(e);}};B.onkeydown=function(e) { console.log('doc.onKeyDown: keyDown()');return A.keyDown(e);};if (is.iOS){try{var E=null;if (isInIframe(window,t)){if (isOPAPub()){var F=getDisplayWindow().frameElement,G=F?F.parentNode:n;E=G||myTop;}else{var H=window.parent.frameElement||window.frameElement;var I;do{H=H?H.parentElement:n;I=H?H.tagName.toLowerCase():n;}while (I&&I!='div'&&I!='body');E=H||myTop;}}else if (isInFrame(window,t)) E=myTop;if (E) E.onscroll=function(e) { return A.iosScroll(e);};else if (window.console) console.log('scroll handler is not getting set!');}catch (eat){}}};A.currMouseObj=0;A.arDelayAct=[];A.arTransInWnds=[];A.arTransOutWnds=[];var J=function(){if (!isOPAPub()) myTop.onresize=window.onResizeOrig;};if (theApp.is.ie10orLess){window.attachEvent('onbeforeunload',function() { J();});window.attachEvent('onunload',function() { J();});}else{window.addEventListener('unload',function() { J();},t);}};p.getDisplayPageDiv=function(){return this.div;};p.rcdGetAttData=function(){var A=rcdObj.rcdData['att_'+rcdObj.view];if (A==u) A=rcdObj.rcdData['att_'+DEFAULT_VIEW];return A;};p.hasPageTrans=function(){return!!this.rcdGetAttData().transId;};p.doPageTrans=function(A,B,C){var D=this;if (D.hasPageTrans()){var E=isOPAPub()?getPagePlayer().getCurrentPage().div:D.div;var F=D.rcdGetAttData();if (F.transId==35){E.style.opacity=0;D.anchorFrontDiv.style.opacity=0;var G=F.transDur*400;FX.fadeIn(E,D.anchorFrontDiv,{ duration:G,complete:function() { C();} });}else{var H=F.transId;if(H==32||H==33) H=jsTrans.xlateTrans(H,n,t);doDivTrans(f,D.anchorFrontDiv,H,F.transDur,function() { },n,n,n,n,-1,A,(B?B.div:n));doDivTrans(f,E,H,F.transDur,function() { C();},n,n,n,n,-1,A,(B?B.div:n));}}};p.processMouseAct=function(e,A){if (!e) e=window.event;var B=(e.target?e.target:e.srcElement?e.srcElement:null);var C=this.getDivObj(B);var D=t;switch (A){case 1:if (C&&(!(C instanceof jsWndTextButton)||(C instanceof jsWndTextButton&&e.which!=32))) D=C.mouseDown(e);else if (typeof pageClick=='function') D=pageClick(e);break;case 2:this.setCurrMouseObj(C);if (C) D=C.mouseMove(e);break;case 3:if (C) D=C.mouseUp(e);this.resetMenus(C);break;case 4:if (C&&C.mouseDblClk) D=C.mouseDblClk(e);break;case 5:if (C&&C.contextMenu) D=C.contextMenu(e);else if (typeof pageRClick=='function'){pageRClick(e);return cancelEvent(e);};break;};return D;};p.resetMenus=function(A){for (var i=0,B=arWnds.length;i<B;i++){if (arWnds[i] instanceof jsWndMenu){var C=A&&(A instanceof jsPopMenu)&&(A.isDescendantOf(arWnds[i]));if (arWnds[i]!==A&&!C) hideSubMenus(arWnds[i],A);}}};p.mouseDown=function(e){if (!e) e=window.event;if (e.which==1||e.which==32||(!e.which&&(e.button==0||e.button==1))) return this.processMouseAct(e,1);return t;};p.mouseMove=function(e){return this.processMouseAct(e,2);};p.mouseUp=function(e){var A=this.processMouseAct(e,3);this.processed=true;return A;};p.mouseDblClk=function(e){if (!e) e=window.event;if (e.which==1||(!e.which&&e.button==1)||theApp.is.ie10orLess) return this.processMouseAct(e,4);return t;};p.mouseClick=function(e){if (!e) e=window.event;var A=this;if (!A.processed){A.mouseDown(e);A.mouseUp(e);};A.processed=false;};p.iosScroll=function(e){var A=this;if (A.iosScrTOId) clearTimeout (A.iosScrTOId);A.iosScrTOId=setTimeout(function(){A.iosScrTOId=n;if (is.iOS&&(isInFrame(window,t)||isInIframe(window,t))){updateAnchorForIOSIframe();}},50);};p.contextMenu=function(e){return this.processMouseAct(e,5);};p.keyDown=function(e){var A=getPagePlayer();if (A&&A.activePage&&A.activePage.__pageInTrans) return f;if (typeof pageKey=='function'){if (!e) e=window.event;var B=e.keyCode,C=((e.altKey?1:0)|(e.ctrlKey?2:0)|(e.shiftKey?4:0)),D=pageKey(e,B,C),E=e.target?e.target:(e.srcElement?e.srcElement:n);console.log('wndPagePublished.keyDown: keyVal=['+B+'] ret=['+D+']');if (D==f&&(E&&((/input/i.test(E.tagName))||(/textarea/i.test(E.tagName))))) D=t;return D;};return t;};p.setCurrMouseObj=function(A){var B=this.currMouseObj;if (B!=A){if (theApp.is.mobile==f){if (B&&B.mouseExit) B.mouseExit();this.currMouseObj=A;if (A&&A.mouseEnter) A.mouseEnter();}}};p.getDivObj=function(A){var B=0;while (!B&&A){B=(A.popM?A.popM:(A.tObj?A.tObj:0));A=A.parentNode;};return B;};p.issueShowActions=function(A){trivIssueShowActs(A);};p.doAction=function(A,B,C,D,E,F){try{if (typeof A!='undefined') A();}catch(e){var G='Error during executing an action.\n\n';try{if (F){G+=(C?'Action:          '+C.name+'\n':'')+(F.objInfo?'Object:          '+F.objInfo+'\n':'')+(F.pageInfo?'Page:            '+F.pageInfo+'\n':'')+(rcdObj.view!='Desktop'?'Device View: '+rcdObj.view+'\n':'');};var H=window.location.href.split('/');G+='URL:              '+H[H.length-1];}catch(e2){};G+='\n\nError message:\n"'+e+'"';alert(G);theApp.error(e);}};p.findWndByObj=function(o){return o.wnd;};p.fixA=function(){if (theApp.is.ie10orLess) trivArExec(getDisplayDocument().getElementsByTagName("A"),function(o){o.style.cursor='hand';try{if (!o.style.color) o.style.color=o.parentNode.style.color;} catch (e){}});var A=getURLParams();if (A['title']) getDisplayDocument().title=A['title'];};p.fixEmbeddedTables=function(){if (theApp.is.ie10orLess) trivArExec(getDisplayDocument().getElementsByTagName("TABLE"),function(o){if (o.parentNode&&o.parentNode.getAttribute('name')=='dCon2'){trivArExec(o.getElementsByTagName("TD"),function(A){try{var w=A.style.width;A.style.width=null;A.style.width=w;} catch (e){}});}});};p.alignEmbObjs=function(){var A=getDisplayDocument().getElementsByTagName("img");trivArExec(A,function(F){try{if (F.id.indexOf("ee")!==0) return;var B=F.parentNode;B.style.position='';var C={x:F.offsetLeft,y:F.offsetTop};while (!(B.getAttribute('name')&&B.getAttribute('name').indexOf('dCon2')===0)){if (B.tagName&&(B.tagName.toLowerCase()=="td"||B.tagName.toLowerCase()=="tbody"||B.tagName.toLowerCase()=="table")){C.x+=B.offsetLeft;C.y+=B.offsetTop;};B=B.parentNode;};var D=F.id.substring(2);var E=getDisplayDocument().getElementById('tobj'+D);E.style.top=C.y+"px";E.style.left=C.x+"px";} catch (e){if (window.console) window.console.error(e);}});};p.actionMute=function(A){var B=VarTriMuteAllFLV.getValue();if (A==u&&B!="~~~null~~~") A=B;if (A!=u){var C=A?'actionMute':'actionUnMute';trivArExec(arAudioVideo,function(D){D[C]();});if (window.trivBgndAudio) trivBgndAudio[C]();VarTriMuteAllFLV.set(A);}};p.setCCState=function(A){VarTriCCState.set(A);trivArExec(arAudioVideo,function(B){B.setCCState(A);});};p.clearDragMouseEvents=function(){if (window.dragMgr) dragMgr.clearDragMouseEvents();};function cwObjPub(){this.arChld=[];};p=cwObjPub.prototype;p.getTrans=function(A){var B=this.transData;return (B?(A?B[0]:B[1]):0);};p.getTransSpeed=function(A){var B=this.transData;return (B?(A?B[2]:B[3]):0);};p.getTransDelay=function(A){var B=this.transData;return (B?(A?B[4]:B[5]):0);};p.getTransEffect=function(A){var B=this.transData;return (B?(A?B[8]:B[9]):0);};p.getXPos=function(){return this.rect.x;};p.getYPos=function(){return this.rect.y;};p.getPubXPos=function(){return this.getXPos();};p.getPubYPos=function(){return this.getYPos();};p.getPubWidth=function(){return this.rect.width;};p.getPubHeight=function(){return this.rect.height;};trivGoToPage=null;trivCompleteCnt=1;hasProcessedExitActions=false;trivWndImmFeedback=null;currFeedbackIdx=0;trivPageExited=false;trivNumQuestions=0;trivProcessTest=0;trivActFBCnt=0;function trivCloseDialog(){var A;var B=false;if (this.frameElement&&this.frameElement.parentNode){for (i=0;i<this.frameElement.parentNode.childNodes.length;i++){if (this.frameElement.parentNode.childNodes[i].id=='DLG_hiddenClose'){A=this.frameElement.parentNode.childNodes[i];break;}};if (A&&A.onclick){A.onclick();B=true;}};return B;};var isMobile={Android:function(){return navigator.userAgent.match(/Android/i);},AndroidNonTablet:function(){return isMobile.Android()&&navigator.userAgent.match(/Mobile/i)&&!navigator.userAgent.match(/Kindle/i);},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i);},iOS:function(){return theApp.is.iOS;},iPhone:function(){return navigator.userAgent.match(/iPhone/i);},iPhoneX:function(){return isMobile.iPhone()&&(getDisplayWindow().screen.height==812||getDisplayWindow().screen.height==896);},iPhone11:function(){return isMobile.iPhone()&&(getDisplayWindow().screen.height==812||getDisplayWindow().screen.height==896);},iPhone12:function(){return isMobile.iPhone()&&(getDisplayWindow().screen.height==786||getDisplayWindow().screen.height==844||getDisplayWindow().screen.height==926);},iOSNonTablet:function(){return navigator.userAgent.match(/iPhone|iPod/i);},Opera:function(){return navigator.userAgent.match(/Opera Mini/i);},Windows:function(){return navigator.userAgent.match(/IEMobile/i);},any:function(){return (isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows());},anyPhone:function(){return (isMobile.AndroidNonTablet()||isMobile.BlackBerry()||isMobile.iOSNonTablet()||isMobile.Opera()||isMobile.Windows());}};function opaOnPageLoad(){function cont(){pagePlayer=new jsPagePlayer();pagePlayer.gotoPage(getURLParams().jmptopg||history&&history.state&&history.state.status||firstPageName);};window.onResizeOrig=myTop.onresize;myTop.onresize=opaOnResize;window.bAutoStartOnPage=bAutoStartOnFirstPage;enableAutoStart(cont,t);};function opaOnUnload(){myTop.onresize=window.onResizeOrig;};function opaOnResize(){function cont(){var A=pagePlayer&&pagePlayer.activePage&&pagePlayer.activePage.iframe&&pagePlayer.activePage.iframe.contentWindow&&pagePlayer.activePage.iframe.contentWindow.onresize;if (A) A();if (window.onResizeOrig&&typeof onResizeOrig=='function') window.onResizeOrig();};if((isMobile.iPhone11()||isMobile.iPhone12())&&navigator.userAgent.indexOf('CriOS/')!=-1) setTimeout(function() { cont();},window.ip11TO||100);else cont();};function onPageLoad(){enableAutoStart(function() {if (!isOPAPub()){if (myTop!=window){window.onResizeOrig=myTop.onresize;myTop.onresize=onResize;}};trivPage=new wndPagePublished();if (window.init_pageTracking) init_pageTracking();var A=getWebWindowInfo(),B=A?window.parent['webwnd'+A.webwndObjId]:n,C=n,D=n;if (B){C=!!(B.dwFlags&0x80000000);D=B.cwObj.scrollBar;if (isMobile.any()) D=2;};if (C&&D==2) window.bSingleScrubView=t;setRcdView(t);if (C&&(D==2||D==0)){var E=trivPage.div,F=E.style,G=triv$(E).height(),H=triv$(E).width(),I=0,J=0,K=1,L=1,M=1;if (D==2){if (G) K=A.height/G;if (H) L=A.width/H;}else if (D==0){if (H) L=divide(A.width-30,H);};M=Math.min(K,L);I=-Math.ceil(divide(H-A.width,2));J=-Math.round(G*divide(1-M,2));F.transform='translate('+I+'px,'+J+'px) scale('+M+')';F.transformOrigin='';F.left='';F.marginLeft='';if (D==2) E.parentElement.style.overflow='hidden';};if (trivPage.hasPageTrans()&&!isOPAPub()){trivPage.doPageTrans(n,n,function(){updateAnchorDiv();});}else updateAnchorDiv();bPageLoaded=t;});};function onResize(){if (!document.body) return;setRcdView(f);if (window.onResizeOrig&&typeof onResizeOrig=='function') window.onResizeOrig();};function setRcdView(A){function getViewFromRL(){var B=n;try{if (M.parent) B=M.parent._respView||(getTitleMgrHandle()&&M.parent&&M.parent.parent?M.parent.parent._respView:n);}catch(e) {};return B;};var C=f,D=f,E=f,F=f,G=rcdObj.view,H=rcdObj.deviceView,I=n,J=f,K=n,L=n,M=getDisplayWindow(),N=getViewFromRL();I='Desktop';if (isMobile.any()) I=getDevice()+getOrientation();else if (N||!window.bSingleScrubView){var O=window.pgWidth_desktop?window.pgWidth_desktop:1009,P=window.pgWidth_tabletPort?window.pgWidth_tabletPort:785,Q=window.pgWidth_phonePort?window.pgWidth_phonePort:480,R=getScreenHeight()<trivPage.div.clientHeight,S=Q,w=getScreenWidth();if (N){I=N;if (R){J=t;S=w;}}else{if (R) w+=18;if (w>=O||(w<Q&&O==Q)) I='Desktop';else if (w>=1009) I='TabletLandscape';else if (w>=P) I=getOrientation()=='Landscape'?'PhoneLandscape':'TabletPortrait';else I='PhonePortrait';};if (w<Q) J=t;};var T=I;I=viewOverrideMap[I]||I;if (T!=I) rcdObj.unpubView=T;rcdObj.deviceView=I;rcdObj.view=I;if (rcdObj['pgWidth_'+rcdObj.view]==u) rcdObj.view=DEFAULT_VIEW;C=G!=rcdObj.view;F=H!=I;D=rcdObj.innerHeight!=M.innerHeight;E=rcdObj.innerWidth!=M.innerWidth;rcdObj.innerHeight=M.innerHeight;var U=window.bFillWindow&&E;L=(trivPage&&trivPage.div?trivPage.div.style:n);if (C||D||U||F||A){if (window.VarCurrentView) VarCurrentView.set(I);if (C){updateDivs(A);if (L&&(isNewWinPopup()||(!A&&isOPAPub()))) L.visibility='';};if (C||D||U||A){renderObjects(A,C);};if (!A){if (window.pageViewChgAction){pageViewChgAction();pageViewChgAction=n;};trivArExec(arWnds,function(Z){try {Z.issueActions(15);} catch (e) {if (window.console&&console.error) console.error(e);}});}};var W=n;if (!isMobile.any()||(isMobile.any()&&window.bRespDesign&&getFlagFitMobile())){if (window.bRespDesign&&L){K='';if (J){if (R) w-=18;transformScale=w/S;var h=parseInt(L.height),X=Math.ceil((S-w)/2),Y=Math.ceil((h-h*transformScale)/2);K='translate(-'+X+'px,-'+Y+'px) scale('+transformScale+','+transformScale+')';L.transform=K;};updateAnchorDiv();trivArExec(arWnds,function(a){a.updateAnchorAndFromBottom(t);});};W=getFillBrowserScale();if (window.trivCenterPage) trivCenter(W);if (window.bFillWindow&&!isLOPopup()||(isMobile.any()&&window.bRespDesign&&getFlagFitMobile())) fillBrowser(W);};if(isMobile.any()&&!window.bRespDesign&&(window.bFitWidth||window.bFillWindow)) fillBrowser(W);fixScrollTo();};function fixScrollTo(A){function waitForRender(E,F){F=F||0;if (F<100&&trivPage.div.scrollTop==0) setTimeout(function() { waitForRender(E,++F);},5);else E();};var B=getDisplayWindow(),C=location.href.split('#'),D=triv$('#'+C[1]).offset();if (D&&C.length==2&&C[0]!=''&&C[1]!='top'&&triv$(trivPage.div).height()>B.innerHeight){waitForRender(function() {window.scrollTo(D.left,D.top);trivPage.div.scrollTop=0;trivPage.div.scrollLeft=0;if (A) A();});}};function getFillBrowserScale(){var A=getCurrentPageDiv();var B=getDisplayWindow();triv$(A).show();var C=triv$(A).width();var D=triv$(A).height();findWH(t);var E=triv$(B).height();var F=triv$(B).width();if (bRcdTitle&&rcdObj.view!='Desktop'&&isMobile.any()&&is.iOS){var G=getOrientation()=='Landscape',H=B.screen.height,I=B.screen.width;E=G?I:H;F=G?H:I;};var J=(E>1?E-1:winH>0?winH:100);var K=(F>0?F:winW>0?winW:100);var L=K/C;var M=J/D;if (window.bFitWidth){var N=D*L;if (J<N){K=winW-19;L=K/C;}};var O=window.bFitWidth?L:Math.min(L,M);var P=parseInt(O==L?0:divide(K,2)-divide(O*C,2));if (!isMobile.any()&&window.scaleLimitWidth&&F>scaleLimitWidth){var Q=Math.min(F,scaleLimitWidth);var R=(Q>0?Q:winW>0?winW:100);L=R/C;O=window.bFitWidth?L:Math.min(L,M);P=parseInt(divide(K,2)-divide(O*C,2));};var S=-parseInt(divide(C-(O*C),2))+P;var T=-parseInt(divide(D-(O*D),2));if (getFlagFitMobile()&&window.bRespDesign&&isMobile.any()){O=Math.min(L,M);S=window.bFillWindow?P:0;T=0;};return	{'scale':O,'offsetX':S,'offsetY':T};};function fillBrowser(A){var B=getCurrentPageDiv();var C=B.style;var A=A||getFillBrowserScale();var D="translate("+A.offsetX+"px, "+A.offsetY+"px) scale("+A.scale+")";C.transform=D;C.MozTransform=D;C.msTransform=D;C.OTransform=D;C.webkitTransform=D;transformScale=A.scale;var E=triv$('#'+(isOPAPub()?B.id:'')+'anchorFront',getDisplayDocument())[0];if (E){C=E.style;C.transform=D;C.MozTransform=D;C.msTransform=D;C.OTransform=D;C.webkitTransform=D;}};function updateAnchorForIOSIframe(){var A=f,B=getDisplayWindow(),C,D=n,E,F=1,G,H,I;if (isInIframe(B,t)){C=isOPAPub()?B.frameElement:window.parent.frameElement||window.frameElement;D=C?C.parentNode:n;F=calcTransformScale();}else{if (isOPAPub()) F=calcTransformScale();};H=D||myTop;G=D&&D.nodeName=="DIV"&&D.scrollHeight>D.offsetHeight;I=G?H.scrollTop:H.scrollY;I/=F;var J=getDisplayWindow().top.innerHeight;var K=getAncestorIframe(getDisplayWindow());if(K){if(K.style.height) J=parseInt(K.style.height);else if (K.id=='course-iframe'&&K.parentElement.parentElement.tagName=='ION-CONTENT'){var L=parseInt(K.parentElement.style.marginTop);if (L>0) J-=L;}};var M=triv$(trivPage.anchorFrontDiv);if (A){var N=M.data('timeoutAnchor');clearTimeout(N);if (N!='~animating~'){N=setTimeout(function() {M.data('timeoutAnchor','~animating~');M.animate({ 'top':I },200,function() {M.css('top',I+'px');M.data('timeoutAnchor',null);});},400);M.data('timeoutAnchor',N);}}else{M.css('top',I+'px');};E=triv$(trivPage.div).height();trivArExec (arWnds,function(P){if (P.dwFlags&0x100000&&P.dwFlags&0x1000){var O=P.rcdGetAttData().objData.a[3][1];P.rtRect.y=(J-((E-O)*F))/F;P.div.style.top=P.rtRect.y+'px';}});};function updateAnchorDiv(){var A=(window.trivPage&&trivPage.div?trivPage.div.style:n);if (A&&trivPage.anchorFrontDiv){var B=trivPage.anchorFrontDiv.style;B.cssText=A.cssText;B.position='fixed';B.backgroundImage='';B.backgroundColor='';B.backgroundSize='';B.pointerEvents='none';B.overflow='';if (is.iOS&&isInIframe(window,t)){if (trivPage.anchorFrontDiv.parentNode!=trivPage.div){triv$(trivPage.anchorFrontDiv).remove();triv$(trivPage.anchorFrontDiv).appendTo(trivPage.div);};B.position='absolute';B.transform='';B.width='';B.height='';var C=getAncestorIframe(getDisplayWindow());var D=C?C.parentElement:null;if (D){var E=D.scrollTop;D.scrollTop=1;D.scrollTop=E;}}else if (theApp.is.ie10orLess&&trivPage.anchorFrontDiv.parentNode.tagName.toLowerCase()!='svg'){triv$(trivPage.anchorFrontDiv).wrap('<svg xmlns="http://www.w3.org/2000/svg" pointer-events="none"></svg>');};if (!B.zIndex||B.zIndex<9000) B.zIndex=9000;}};function updateDivs(A){if (window.rcdObj){var B=trivPage.div.style;var C=rcdObj['pgStyle_'+rcdObj.view];if (C){B.cssText=C;updateAnchorDiv();if (isLOPopup()||!isSPPCapable()) B.visibility='';};var D=rcdObj['backgrd_'+rcdObj.view];var E=getDisplayDocument();if (D&&E.body.style.backgroundColor!=D[0]) E.body.style.backgroundColor=D[0];if (D&&B.backgroundImage!=D[1]) B.backgroundImage=D[1];if (D) B.backgroundSize=""+Math.round(Number(D[4])*Number(D[2]))+"px "+Math.round(Number(D[4])*Number(D[3]))+"px";};if (arWnds) for (var i=0;i<arWnds.length;i++){if (arWnds[i].rcdData) arWnds[i].updateDiv(n,A);}};function isInIframe(A,B){return!!getAncestorIframe(A,B);};function isInFrame(A,B){return!!getAncestorFrame(A,B);};function getAncestorIframe(A,B){return getAncestorFrameOrIFrame(A,'iframe',null,B);};function getAncestorFrame(A,B){return getAncestorFrameOrIFrame(A,'frame',null,B);};function getAncestorFrameOrIFrame(A,B,C,D){C=C||0;try {A=A||window.parent;} catch (e) {};if (A){var E=false;try {E=A.frameElement&&A.frameElement.tagName.toLowerCase();} catch (e) {};var F=false;try {F=A.parent;} catch (e) {};if (E==B&&(D||A.frameElement.parentElement.id!='trivTitleMgrFrameset')) return A.frameElement;else if (F&&C<10) return getAncestorFrameOrIFrame(F,B,++C);};return n;};function calcTransformScale(){var A=1;if (isMobile.any()&&bRcdTitle){var B=n;if (isMobile.Android()||(getOrientation()=='Landscape'&&(isMobile.iPhoneX()||isMobile.iPhone11()||isMobile.iPhone12()))) B=getDisplayWindow().innerWidth;else B=getScreenWidth();var C=rcdObj['pgWidth_'+rcdObj.view];if (C) A=B/C;};return A;};function renderObjects(A,B){if (A) init();else if (B) attachObjs(t);if (isMobile.any()&&bRcdTitle){var C=trivPage.div;var D=rcdObj['pgWidth_'+rcdObj.view];if (D){transformScale=calcTransformScale();var E='scale('+transformScale+')';C.style.transform=E;C.style.transformOrigin='0px 0px 0px';C.style.MozTransform=E;C.style.msTransform=E;C.style.OTransform=E;C.style.webkitTransform=E;updateAnchorDiv();}}};var respViewNames=["Desktop","TabletPortrait","TabletLandscape","PhonePortrait","PhoneLandscape"];function init(){trivArExec(respViewNames,function(A){var A="init_"+A;if (typeof window[A]=='function') window[A]();});};function attachObjs(A){trivArExec(arAttachObj,function(D){if (D.div==u||D.div.outerHTML!='') D.attach(A);});trivArExec(respViewNames,function(B){var B="defineFuncs_"+B;if (typeof window[B]=='function') window[B]();});trivArExec(arAttachObj,function(E){if (E.div==u||E.div.outerHTML!='') E.postAttach(A);});trivPage.fixA();trivPage.fixEmbeddedTables();trivArExec(arAttachObj,function(F){if(F.cwObj&&F.cwObj.par&&(F.cwObj.par.type==11||F.cwObj.par.type==14)&&F.cwObj.par.bReadLast&&F.div){var C=F.div.parentNode;C.removeChild(F.div);C.appendChild(F.div);}});};function getScreenWidth(){var A=getDisplayWindow(),B=getDisplayDocument();if (isMobile.any()){var C=A.screen.width;if (isMobile.iOS()){if (isInFrame(A)||isInIframe(A)) C=B.documentElement.clientWidth?B.documentElement.clientWidth:B.body.clientWidth;else{if (getOrientation()=="Landscape") C=A.screen.height;else C=A.screen.width;}};return C;};if (B.compatMode=='CSS1Compat'){if(B.body) return  B.body.parentNode.clientWidth||B.documentElement.clientWidth||B.body.clientWidth||0;return A.innerWidth||0;}else{if(B.body) return B.body.clientWidth;else return A.screen.width;}};function getScreenHeight(){if (isMobile.any()){if (isMobile.iOS()&&getOrientation()=="Portrait") return screen.width;else return screen.height;};var A=getDisplayDocument();if (A.compatMode=='CSS1Compat'){if (A.body) return A.body.parentNode.clientHeight;else return screen.height;}else return A.body.clientHeight;};function getOrientation(){return myTop.innerHeight>myTop.innerWidth?"Portrait":"Landscape";};function getDevice(){var A=getWebWindowInfo(),B=A?window.parent['webwnd'+A.webwndObjId]:n,C=B&&!!(B.dwFlags&0x80000000);if (C) return 'Desktop';else return isMobile.anyPhone()?"Phone":isMobile.any()?"Tablet":"Desktop";};function getFlagFitMobile(){var A=getWebWindowInfo(),B=A?window.parent['webwnd'+A.webwndObjId]:n,C=B&&!!(B.dwFlags&0x80000000);return!C&&window.bFitMobile;};function loadIncFiles(A,B){window.bRespDesign=!!B;var C="device_##0/"+A+".js",D=getDevice(),E='TabletLandscape',F='TabletPortrait',G='PhoneLandscape',H='PhonePortrait';E=viewOverrideMap[E]||E;F=viewOverrideMap[F]||F;G=viewOverrideMap[G]||G;H=viewOverrideMap[H]||H;if (!B||['Desktop','Tablet','Phone'].indexOf(D)==-1) D='Desktop';if (D=='Desktop') addScriptToHead(getLocStr(C,D));if (B){if (D=='Desktop'||D=='Tablet'){addScriptToHead(getLocStr(C,E));addScriptToHead(getLocStr(C,F));};if (D=='Desktop'||D=='Phone'){addScriptToHead(getLocStr(C,G));addScriptToHead(getLocStr(C,H));}}};function trivCenter(A){if  (window.bFillWindow) return;try{A=A||getFillBrowserScale();var B=theApp.is.mobile&&window.bFitMobile?A.scale:1;var C=trivPage.div.style;var D=getDisplayDocument();var E=getDisplayWindow().innerWidth;if (!E) E=D.documentElement.clientWidth?D.documentElement.clientWidth:D.body.clientWidth;if (parseInt(C.width)*B>=E){C.left='0px';C.marginLeft='';}else{C.left='50%';C.marginLeft='-'+(Math.round((parseInt(C.width)*B/2)))+'px';};updateAnchorDiv();} catch (e){if (window.console) console.log(e);}};function checkLeavePage(){if (trivPageExited) return;if (trivActFBCnt<=0){if (trivProcessTest&&(bDoProcessTest||trivGoToPage==null)){bDoProcessTest=false;processTest(1);}else if (trivExitPage.transOutDone&&trivExitPage.transOutDone()==false){setTimeout('checkLeavePage()',100);}else{trivLeavePage();};return;};setTimeout('checkLeavePage()',100);};function trivLeavePage(){trivCompleteCnt--;if (trivCompleteCnt<=0){if (window.saveVariable) saveVariable('TrivantisEPS','T');hasProcessedExitActions=f;eval(trivGoToPage);trivGoToPage=n;trivPageExited=t;setTimeout(function(){trivPageExited=f;hasProcessedExitActions=f;},750);}};function trivExitPage(A,B,C){trivExitPage.afterFeedBackCallback=null;if (A.indexOf("ObjLayerAction")>=0||A.indexOf(".action")>=0||A.indexOf("history.back()")>=0) trivGoToPage=A;else trivGoToPage='ObjLayerActionGoTo("'+A+'"'+(C?',"OPATop"':'')+')';if (!hasProcessedExitActions){findWH();if (trivCheckQuestions(A,B)=="return") return;hasProcessedExitActions=true;if (trivExitPage.trivExitPageItemExits) trivExitPage.trivExitPageItemExits();setTimeout('checkLeavePage()',100);}};function setExitPgAfterFeedbackCB(A,B){trivExitPage.afterFeedBackCallback=function(){trivActFBCnt--;if (A) trivExitPage(A,B);else setTimeout('checkLeavePage()',0);};};function loadApiScript(A,B){if(window.location.protocol=="file:") return;var C,D,E='script',F=window.getDisplayDocument?getDisplayDocument():document,G=F.getElementsByTagName(E)[0];switch (A){case 'ALLINONE':D='//s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4f4809142ed80608';id='triv-allinone';break;case 'FB':D='//connect.facebook.net/en_US/all.js#xfbml=1';id='facebook-jssdk';break;case 'TWITTER':D='//platform.twitter.com/widgets.js';id='twitter-wjs';break;case 'PLUSONE':D='https://apis.google.com/js/plusone.js';id='triv-plusone';break;};if(!F.getElementById(id)){C=F.createElement(E);C.id=id;if (B) C.onload=B;C.src=D;G.parentNode.insertBefore(C,G);}};function trivCheckQuestions(A,B){if (window.arQuest){if (window.answerAllQuestions&&B){for (var i=0;i<arQuest.length;i++){var C=arQuest[i];if (!C.hasBeenProcessed&&C.cwObj.varQuest.isNullOrEmpty()){window.answerAllQuestions();return "return";}}};var D=!trivExitPage.afterFeedBackCallback;try{for (var i=0;i<arQuest.length;i++){var C=arQuest[i];if (!C.hasBeenProcessed){trivActFBCnt++;if (D) setExitPgAfterFeedbackCB(A,B);if (C.processQuestion(B)==1) return "return";trivActFBCnt--;}}}finally{if (D) trivExitPage.afterFeedBackCallback=null;}}};function getUserInfo(A,B,C,D,E){if (B==null||B==''){for (var i=0;i<E.length;i++){var F=window["Var"+E[i].timerVarName];F.set("pause:0");};var G=new jsDlgPromptBox('u1',A,C,'',function(e,H,I){if (H==0) B=I;else B=null;userInfoEntered(A,C,D,B,A,E);});G.create();return;};persistUserName(A,B);};function userInfoEntered(A,B,C,D,A,F){if (D==undefined||D==''){for (var i=0;i<F.length;i++){var G=window["Var"+F[i].timerVarName];G.set("pause:0");};if (D==undefined) cancelTest();else{var H=new jsTrivDlgMsgBox('u0',A,C,0,function(e,I){getUserInfo(A,D,B,C,F);});H.create();};return;};persistUserName(A,D);trivArExec(F,function(J){if (J.autoStart) window["Var"+J.timerVarName].set((parseInt((new Date().getTime()+500)/1000)*1000));});};function persistUserName(A,B){saveVariable('TrivantisUserName',B,null,A);var C=getTitleMgrHandle();if (C) C.setUserInfo(B,null);};function trivAlert(A,B,C,D){if (trivWeb20Popups&&window.jsTrivDlgMsgBox){var E=new jsTrivDlgMsgBox(A,B,C,f,D);E.create();}else{alert(C);if (D) D();}};function trivCloseWnd(){if (this.frameElement&&this.frameElement.id&&this.frameElement.id.indexOf('DLG_content')==0) trivCloseDialog();else window.close();};function trivMailTo(A){if (is.gecko){window.open("mailto:"+A);}else myTop.document.location.href='mailto:'+A;};(function(){var A=window,B=window;while (A.parent!=A){try{if (A.parent.document) B=A.parent;}catch (e){break;};A=A.parent;};window.myTop=B;})();function trivSetupPage(){window.onload=onPageLoad;window.onresize=onResize;window.arAudioVideo=[];};function gotoPassFailPage(A){var B=getTitleMgrHandle();var C=B?B.getTIdx(A,f):-1;var D=C!=-1?B.arTests[C]:n;if (D) trivExitPage(B.GetIfTestPassed(A)?D.strPassPage:D.strFailPage);};var trivPageTracking={initPageTracking:function() { return 0;},getRangeStatus:function()	{return 'notstarted';},setRangeStatus:function() { return 0;},savePageTracking:function() { return 0;},updateIndicators:function() { return 0;}};function PageTrackingObj(A,B,C,D){var E=this;E.VarTrivPageTracking=new Variable('VarTrivPageTracking',n,0,C,D,A,B,t);E.numPages=0;E.publishTimeStamp=0;E.title=n;E.arIndicators=[];};PageTrackingObj.prototype.initPageTracking=function(){var A=this.VarTrivPageTracking.getValue();try{if (A&&A.length>0&&A!='~~~null~~~'){var B=A.split('#');if (B&&B.length>1){var C=B[0].split(',');var D=B[1].split('');var E=4;for (var i=0;i<C.length;i++){var F=parseInt('0x'+C[i]);var G=1<<(i % E);var H=(parseInt('0x'+D[Math.floor(i/E)])&G)==0?1:2;var I=this.findNode(this.title,F);if (I) I.v=H;}}}} catch (e){}};PageTrackingObj.prototype.findNode=function(A,B){if (A.id==B) return A;var C=null;if (typeof (A.c)!='undefined'){for (var i=0;i<A.c.length;i++){C=this.findNode(A.c[i],B);if (C!=null) break;}};return C;};PageTrackingObj.prototype.internalGetRangeStatus=function(A){if (A==null) return-1;if (typeof (A.c)=='undefined'){return A.v;}else{if (A.v==0){var B=true;var C=false;for (var i=0;i<A.c.length;i++){var D=A.c[i];var E=this.internalGetRangeStatus(D);if (E==1||E==2) C=true;if (E==0||E==1) B=false;};return (!A.t&&B)?2:(C?1:0);}else return A.v;}};PageTrackingObj.prototype.getRangeStatus=function(A,B){var C=-1;if (B&&f) this.initPageTracking();C=this.internalGetRangeStatus(this.findNode(this.title,A));return C==0?'notstarted':(C==1?'inprogress':'complete');};PageTrackingObj.prototype.internalSetRangeStatus=function(A,B){if (A==null) return;A.v=B;if (B==0&&typeof (A.c)!='undefined'){for (var i=0;i<A.c.length;i++) this.internalSetRangeStatus(A.c[i],B);}};PageTrackingObj.prototype.setRangeStatus=function(A,B){this.internalSetRangeStatus(this.findNode(this.title,A),B);this.savePageTracking();};PageTrackingObj.prototype.IterateTree=function(A){var B=[];B.push(this.title);var i=0;while (B.length>0){var C=B.shift();if (typeof (C.c)!='undefined') B=C.c.concat(B);A(C,i,B);i++;}};PageTrackingObj.prototype.savePageTracking=function(){var A='';var B=[];var C=[];this.IterateTree(function(G,i,H){if (G.v!=0){B.push(G.id);C.push(G.v);}});for (var i=0;i<B.length;i++){if (i!=0) A+=',';A+=B[i].toString(16);};A+='#';var D=4;var E=0;for (var i=0;i<C.length;i++){var F=C[i]==2?1:0;E|=F<<(i % D);if (((i+1) % D==0)||((i+1)==C.length)){A+=E.toString(16);E=0;}};this.VarTrivPageTracking.set(A);};PageTrackingObj.prototype.updateIndicators=function(){trivArExec(this.arIndicators,function(A){window[A].updateIndicators();});};PageTrackingObj.prototype.GetNumCompPages=function(A,B){for(var C=0;C<A.length;C++){if(A[C].c) B=this.GetNumCompPages(A[C].c,B);else if(typeof(A[C].c)=='undefined'){var D='';D=this.getRangeStatus(A[C].id);if (D==='complete') B++;}};return B;};function clearJqCache(){var A=location.href.substring(0,location.href.lastIndexOf('/'));for (var i in triv$.cache){try{if (triv$.cache.hasOwnProperty(i)){if (triv$.cache[i].handle&&triv$.cache[i].handle.elem&&document!==triv$.cache[i].handle.elem){var B=f;var C=f;if(!(triv$.cache[i].handle.elem instanceof Element)&&!(triv$.cache[i].handle.elem instanceof Document)){B=t;C=t;}else if(!triv$.contains(document,triv$.cache[i].handle.elem)){try{B=t;triv$("iframe").each(function(){var D=triv$(this)[0].src;if(D.StartsWith(A)){if(triv$.contains(triv$(this).contents(),triv$.cache[i].handle.elem)) B=f;}});}catch (e){B=t;}};if(B){if(C) delete triv$.cache[i];else{var E=triv$(triv$.cache[i].handle.elem);triv$('body').append(E);E.off();E.remove();E=null;}}}}}catch (e){theApp.log(e);}}};function addScriptToHead(A){if (location.href.indexOf('file:')==0) document.write("<script type='text/javascript' src='"+A+"'></script>");else triv$('<script>') .attr('type','text/javascript') .attr('src',A) .appendTo('head');};
