
		/*
 * Copyright (C) 2007 Trivantis Corporation
 */

	
var aria=aria||{};aria.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};aria.Utils=aria.Utils||{};aria.Utils.matches=function (A,B) {if (!Element.prototype.matches) {Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function (s) {var C=A.parentNode.querySelectorAll(s);var i=C.length;while (--i>=0&&C.item(i)!==this) {};return i>-1;};};return A.matches(B);};aria.Utils.remove=function (A) {if (A.remove&&typeof A.remove==='function') {return A.remove();};if (A.parentNode&&A.parentNode.removeChild&&typeof A.parentNode.removeChild==='function') {return A.parentNode.removeChild(A);};return false;};aria.Utils.isFocusable=function (A) {if (A.tabIndex>0||(A.tabIndex===0&&A.getAttribute('tabIndex')!==null)) {return true;};if (A.disabled) {return false;};switch (A.nodeName) {case 'A':return!!A.href&&A.rel!='ignore';case 'INPUT':return A.type!='hidden'&&A.type!='file';case 'BUTTON':case 'SELECT':case 'TEXTAREA':return true;default:return false;}};aria.Utils.getAncestorBySelector=function (A,B) {if (!aria.Utils.matches(A,B+' '+A.tagName)) {return null;};var C=A;var D=null;while (D===null) {if (aria.Utils.matches(C.parentNode,B)) {D=C.parentNode;}else {C=C.parentNode;}};return D;};aria.Utils.hasClass=function (A,B) {return (new RegExp('(\\s|^)'+B+'(\\s|$)')).test(A.className);};aria.Utils.addClass=function (A,B) {if (!aria.Utils.hasClass(A,B)) {A.className+=' '+B;}};aria.Utils.removeClass=function (A,B) {var C=new RegExp('(\\s|^)'+B+'(\\s|$)');A.className=A.className.replace(C,' ').trim();};aria.Utils.bindMethods=function (A) {var B=Array.prototype.slice.call(arguments,1);B.forEach(function (C) {A[C]=A[C].bind(A);});};aria.Utils.IgnoreUtilFocusChanges=false;aria.Utils.dialogOpenClass='has-dialog';aria.Utils.focusFirstDescendant=function (A,B) {var C=typeof(B)!=='undefined'&&B?true:false;if(typeof(A)==='undefined'||!A) return false;for (var i=0;i<A.childNodes.length;i++) {var D=A.childNodes[i];if (aria.Utils.attemptFocus(D,C)||aria.Utils.focusFirstDescendant(D,C)) {return true;}};return false;};aria.Utils.focusLastDescendant=function (A) {for (var i=A.childNodes.length-1;i>=0;i--) {var B=A.childNodes[i];if (aria.Utils.attemptFocus(B)||aria.Utils.focusLastDescendant(B)) {return true;}};return false;};aria.Utils.attemptFocus=function (A,B) {if (!aria.Utils.isFocusable(A)) {return false;};aria.Utils.IgnoreUtilFocusChanges=true;try {A.focus();setTimeout(function(){aria.Utils.IgnoreUtilFocusChanges=false;},50);return true;} catch (e) {aria.Utils.IgnoreUtilFocusChanges=false;return true;}};aria.OpenDialogList=aria.OpenDialogList||new Array(0);aria.getCurrentDialog=function () {if (aria.OpenDialogList&&aria.OpenDialogList.length) {return aria.OpenDialogList[aria.OpenDialogList.length-1];}};aria.closeCurrentDialog=function () {var A=aria.getCurrentDialog();if (A) {A.close();return true;};return false;};aria.handleEscape=function (A) {var B=A.which||A.keyCode;if (B===aria.KeyCode.ESC&&aria.closeCurrentDialog()) {A.stopPropagation();}};
